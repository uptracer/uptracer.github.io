{"meta":{"title":"Fighting_Peter","subtitle":null,"description":"æœˆäº®æ˜¯å¦åªåœ¨ä½ çœ‹ç€ä»–çš„æ—¶å€™æ‰å­˜åœ¨","author":"uptracer","url":""},"pages":[{"title":"about","date":"2018-12-12T14:14:36.000Z","updated":"2020-05-03T08:40:03.061Z","comments":false,"path":"about/index.html","permalink":"/about/index.html","excerpt":"","text":"[Fighting_Peter] ä¸&nbsp; uptracer&nbsp; ï¼ˆ çœŸï¼ˆã¾ï¼‰ç™½ï¼ˆã—ã‚ï¼‰ ï¼‰ å¯¹è¯ä¸­... bot_ui_ini()","keywords":"å…³äº"},{"title":"bangumi","date":"2019-02-10T13:32:48.000Z","updated":"2020-05-03T03:18:37.293Z","comments":false,"path":"bangumi/index.html","permalink":"/bangumi/index.html","excerpt":"","text":"","keywords":null},{"title":"comment","date":"2018-12-20T15:13:48.000Z","updated":"2020-03-16T10:41:30.000Z","comments":true,"path":"comment/index.html","permalink":"/comment/index.html","excerpt":"","text":"å¿µä¸¤å¥è¯— å™åˆ«æ¢¦ã€æ‰¬å·ä¸€è§‰ã€‚ ã€å®‹ä»£ã€‘å´æ–‡è‹±ã€Šå¤œæ¸¸å®«Â·äººå»è¥¿æ¥¼é›æ³ã€‹","keywords":"ç•™è¨€æ¿"},{"title":"client","date":"2018-12-20T15:13:35.000Z","updated":"2020-03-16T10:41:30.000Z","comments":false,"path":"client/index.html","permalink":"/client/index.html","excerpt":"","text":"ç›´æ¥ä¸‹è½½ or æ‰«ç ä¸‹è½½ï¼š","keywords":"Androidå®¢æˆ·ç«¯"},{"title":"donate","date":"2018-12-20T15:13:05.000Z","updated":"2020-05-03T08:42:39.437Z","comments":false,"path":"donate/index.html","permalink":"/donate/index.html","excerpt":"","text":"","keywords":"è°¢è°¢é¥²ä¸»äº†å–µ~"},{"title":"links","date":"2018-12-19T15:11:06.000Z","updated":"2020-05-03T05:20:57.009Z","comments":true,"path":"links/index.html","permalink":"/links/index.html","excerpt":"","text":"","keywords":"å‹äººå¸"},{"title":"lab","date":"2020-05-03T05:47:59.000Z","updated":"2020-05-03T06:26:51.003Z","comments":false,"path":"lab/index.html","permalink":"/lab/index.html","excerpt":"","text":"sakuraä¸»é¢˜balabala","keywords":"Labå®éªŒå®¤"},{"title":"music","date":"2018-12-20T15:14:28.000Z","updated":"2020-05-03T06:16:14.211Z","comments":false,"path":"music/index.html","permalink":"/music/index.html","excerpt":"","text":"","keywords":"å–œæ¬¢çš„éŸ³ä¹"},{"title":"rss","date":"2018-12-20T15:09:03.000Z","updated":"2020-05-03T06:29:06.603Z","comments":true,"path":"rss/index.html","permalink":"/rss/index.html","excerpt":"","text":""},{"title":"video","date":"2018-12-20T15:14:38.000Z","updated":"2020-03-16T10:41:30.000Z","comments":false,"path":"video/index.html","permalink":"/video/index.html","excerpt":"","text":"var videos = [ { img: 'https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg', title: 'æœèŠ±å¤•èª“â€”â€”äºç¦»åˆ«ä¹‹æœæŸèµ·çº¦å®šä¹‹èŠ±', status: 'å·²è¿½å®Œ', progress: 100, jp: 'ã•ã‚ˆãªã‚‰ã®æœã«ç´„æŸã®èŠ±ã‚’ã‹ã–ã‚ã†', time: 'æ”¾é€æ—¶é—´: 2018-02-24 SUN.', desc: ' ä½åœ¨è¿œç¦»å°˜åš£çš„åœŸåœ°ï¼Œä¸€è¾¹å°†æ¯å¤©çš„äº‹æƒ…ç¼–ç»‡æˆåä¸ºå¸Œæ¯”æ¬§çš„å¸ƒï¼Œä¸€è¾¹é™é™ç”Ÿæ´»çš„ä¼Šæ¬§å¤«äººæ°‘ã€‚åœ¨15å²å·¦å³å¤–è¡¨å°±åœæ­¢æˆé•¿ï¼Œæ‹¥æœ‰æ•°ç™¾å¹´å¯¿å‘½çš„ä»–ä»¬ï¼Œè¢«ç§°ä¸ºâ€œç¦»åˆ«çš„ä¸€æ—â€ï¼Œå¹¶è¢«è§†ä¸ºæ´»ç€çš„ä¼ è¯´ã€‚æ²¡æœ‰åŒäº²çš„ä¼Šæ¬§å¤«å°‘å¥³ç›å¥‡äºšï¼Œè¿‡ç€è¢«ä¼™ä¼´åŒ…å›´çš„å¹³ç¨³æ—¥å­ï¼Œå´æ€»æ„Ÿè§‰â€œå­¤èº«ä¸€äººâ€ã€‚ä»–ä»¬çš„è¿™ç§æ—¥å¸¸ï¼Œä¸€ç¬é—´å°±å´©æºƒæ¶ˆå¤±ã€‚è¿½æ±‚ä¼Šæ¬§å¤«çš„é•¿å¯¿ä¹‹è¡€ï¼Œæ¢…è¨è’‚å†›ä¹˜åç€åä¸ºé›·çº³ç‰¹çš„å¤ä»£å…½å‘åŠ¨äº†è¿›æ”»ã€‚åœ¨ç»æœ›ä¸æ··ä¹±ä¹‹ä¸­ï¼Œä¼Šæ¬§å¤«çš„ç¬¬ä¸€ç¾å¥³è•¾è‰äºšè¢«æ¢…è¨è’‚å¸¦èµ°ï¼Œè€Œç›å¥‡äºšæš—æ‹çš„å°‘å¹´å…‹é‡Œå§†ä¹Ÿå¤±è¸ªäº†ã€‚ç›å¥‡äºšè™½ç„¶æ€»ç®—é€ƒè„±äº†ï¼Œå´å¤±å»äº†ä¼™ä¼´å’Œå½’å»ä¹‹åœ°â€¦â€¦ã€‚' }, { img : 'https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg', title: 'æœèŠ±å¤•èª“â€”â€”äºç¦»åˆ«ä¹‹æœæŸèµ·çº¦å®šä¹‹èŠ±', status: 'å·²è¿½å®Œ', progress: 100, jp: 'ã•ã‚ˆãªã‚‰ã®æœã«ç´„æŸã®èŠ±ã‚’ã‹ã–ã‚ã†', time: '2018-02-24 SUN.', desc: ' ä½åœ¨è¿œç¦»å°˜åš£çš„åœŸåœ°ï¼Œä¸€è¾¹å°†æ¯å¤©çš„äº‹æƒ…ç¼–ç»‡æˆåä¸ºå¸Œæ¯”æ¬§çš„å¸ƒï¼Œä¸€è¾¹é™é™ç”Ÿæ´»çš„ä¼Šæ¬§å¤«äººæ°‘ã€‚åœ¨15å²å·¦å³å¤–è¡¨å°±åœæ­¢æˆé•¿ï¼Œæ‹¥æœ‰æ•°ç™¾å¹´å¯¿å‘½çš„ä»–ä»¬ï¼Œè¢«ç§°ä¸ºâ€œç¦»åˆ«çš„ä¸€æ—â€ï¼Œå¹¶è¢«è§†ä¸ºæ´»ç€çš„ä¼ è¯´ã€‚æ²¡æœ‰åŒäº²çš„ä¼Šæ¬§å¤«å°‘å¥³ç›å¥‡äºšï¼Œè¿‡ç€è¢«ä¼™ä¼´åŒ…å›´çš„å¹³ç¨³æ—¥å­ï¼Œå´æ€»æ„Ÿè§‰â€œå­¤èº«ä¸€äººâ€ã€‚ä»–ä»¬çš„è¿™ç§æ—¥å¸¸ï¼Œä¸€ç¬é—´å°±å´©æºƒæ¶ˆå¤±ã€‚è¿½æ±‚ä¼Šæ¬§å¤«çš„é•¿å¯¿ä¹‹è¡€ï¼Œæ¢…è¨è’‚å†›ä¹˜åç€åä¸ºé›·çº³ç‰¹çš„å¤ä»£å…½å‘åŠ¨äº†è¿›æ”»ã€‚åœ¨ç»æœ›ä¸æ··ä¹±ä¹‹ä¸­ï¼Œä¼Šæ¬§å¤«çš„ç¬¬ä¸€ç¾å¥³è•¾è‰äºšè¢«æ¢…è¨è’‚å¸¦èµ°ï¼Œè€Œç›å¥‡äºšæš—æ‹çš„å°‘å¹´å…‹é‡Œå§†ä¹Ÿå¤±è¸ªäº†ã€‚ç›å¥‡äºšè™½ç„¶æ€»ç®—é€ƒè„±äº†ï¼Œå´å¤±å»äº†ä¼™ä¼´å’Œå½’å»ä¹‹åœ°â€¦â€¦ã€‚' } ] .should-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:95%;}.should-ellipsis-full{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%;}.should-ellipsis i{position:absolute;right:24px;}.grey-text{color:#9e9e9e !important}.grey-text.text-darken-4{color:#212121 !important}html{line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}img{border-style:none}progress{display:inline-block;vertical-align:baseline}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{-webkit-box-sizing:border-box;box-sizing:border-box}*,*:before,*:after{-webkit-box-sizing:inherit;box-sizing:inherit}ul:not(.browser-default){padding-left:0;list-style-type:none}ul:not(.browser-default)>li{list-style-type:none}.card{-webkit-box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12),0 1px 5px 0 rgba(0,0,0,0.2);box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12),0 1px 5px 0 rgba(0,0,0,0.2)}.hoverable{-webkit-transition:-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s;transition:box-shadow .25s;transition:box-shadow .25s,-webkit-box-shadow .25s}.hoverable:hover{-webkit-box-shadow:0 8px 17px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);box-shadow:0 8px 17px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19)}i{line-height:inherit}i.right{float:right;margin-left:15px}.bangumi .right{float:right !important}.material-icons{text-rendering:optimizeLegibility;-webkit-font-feature-settings:'liga';-moz-font-feature-settings:'liga';font-feature-settings:'liga'}.row{margin-left:auto;margin-right:auto;margin-bottom:20px}.row:after{content:\"\";display:table;clear:both}.row .col{float:left;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 .75rem;min-height:1px}.row .col.s12{width:100%;margin-left:auto;left:auto;right:auto}@media only screen and (min-width:601px){.row .col.m6{width:50%;margin-left:auto;left:auto;right:auto}}html{line-height:1.5;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\"Helvetica Neue\",sans-serif;font-weight:normal;color:rgba(0,0,0,0.87)}@media only screen and (min-width:0){html{font-size:14px}}@media only screen and (min-width:992px){html{font-size:14.5px}}@media only screen and (min-width:1200px){html{font-size:15px}}.card{position:relative;margin:.5rem 0 1rem 0;background-color:#fff;-webkit-transition:-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s;transition:box-shadow .25s;transition:box-shadow .25s,-webkit-box-shadow .25s;border-radius:2px}.card .card-title{font-size:24px;font-weight:300}.card .card-title.activator{cursor:pointer}.card .card-image{position:relative}.card .card-image img{display:block;border-radius:2px 2px 0 0;position:relative;left:0;right:0;top:0;bottom:0;width:100%}.card .card-content{padding:24px;border-radius:0 0 2px 2px}.card .card-content p{margin:0}.card .card-content .card-title{display:block;line-height:32px;margin-bottom:8px}.card .card-content .card-title i{line-height:32px}.card .card-reveal{padding:24px;position:absolute;background-color:#fff;width:100%;overflow-y:auto;left:0;top:100%;height:100%;z-index:3;display:none}.card .card-reveal .card-title{cursor:pointer;display:block}.waves-effect{position:relative;cursor:pointer;display:inline-block;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;vertical-align:middle;z-index:1;-webkit-transition:.3s ease-out;transition:.3s ease-out}.waves-effect img{position:relative;z-index:-1}.waves-block{display:block}::-webkit-input-placeholder{color:#d1d1d1}::-moz-placeholder{color:#d1d1d1}:-ms-input-placeholder{color:#d1d1d1}::-ms-input-placeholder{color:#d1d1d1}[type=\"radio\"]:not(:checked){position:absolute;opacity:0;pointer-events:none}[type=\"radio\"]:not(:checked)+span{position:relative;padding-left:35px;cursor:pointer;display:inline-block;height:25px;line-height:25px;font-size:1rem;-webkit-transition:.28s ease;transition:.28s ease;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[type=\"radio\"]:not(:checked)+span:before,[type=\"radio\"]:not(:checked)+span:after{border-radius:50%}[type=\"radio\"]:not(:checked)+span:before,[type=\"radio\"]:not(:checked)+span:after{border:2px solid #5a5a5a}[type=\"radio\"]:not(:checked)+span:after{-webkit-transform:scale(0);transform:scale(0)}[type=\"checkbox\"]:not(:checked){position:absolute;opacity:0;pointer-events:none}[type=\"checkbox\"]:not(:checked):disabled+span:not(.lever):before{border:none;background-color:rgba(0,0,0,0.42)}[type=\"checkbox\"].filled-in:not(:checked)+span:not(.lever):before{width:0;height:0;border:3px solid transparent;left:6px;top:10px;-webkit-transform:rotateZ(37deg);transform:rotateZ(37deg);-webkit-transform-origin:100% 100%;transform-origin:100% 100%}[type=\"checkbox\"].filled-in:not(:checked)+span:not(.lever):after{height:20px;width:20px;background-color:transparent;border:2px solid #5a5a5a;top:0px;z-index:0}input[type=checkbox]:not(:disabled) ~ .lever:active:before,input[type=checkbox]:not(:disabled).tabbed:focus ~ .lever::before{-webkit-transform:scale(2.4);transform:scale(2.4);background-color:rgba(0,0,0,0.08)}input[type=range].focused:focus:not(.active)::-webkit-slider-thumb{-webkit-box-shadow:0 0 0 10px rgba(38,166,154,0.26);box-shadow:0 0 0 10px rgba(38,166,154,0.26)}input[type=range].focused:focus:not(.active)::-moz-range-thumb{box-shadow:0 0 0 10px rgba(38,166,154,0.26)}input[type=range].focused:focus:not(.active)::-ms-thumb{box-shadow:0 0 0 10px rgba(38,166,154,0.26)} ç•ªç»„è®¡åˆ’ è¿™é‡Œå°†æ˜¯æ°¸è¿œçš„å›å¿† window.onload = function(){ videos.forEach(function(video, i){ $('#rootRow').append(` ${video.title} ${video.jp} ${video.status} ${video.title} ${video.jp} æ”¾é€æ—¶é—´: ${video.time} ${video.desc} ${video.status} `) }) }","keywords":"Bç«™"},{"title":"theme-sakura","date":"2019-01-04T14:53:25.000Z","updated":"2020-03-16T10:41:30.000Z","comments":false,"path":"theme-sakura/index.html","permalink":"/theme-sakura/index.html","excerpt":"","text":"Hexoä¸»é¢˜Sakuraä¿®æ”¹è‡ªWordPressä¸»é¢˜Sakuraï¼Œæ„Ÿè°¢åŸä½œè€…Mashiro","keywords":"Hexo ä¸»é¢˜ Sakura ğŸŒ¸"},{"title":"tags","date":"2020-05-03T06:14:16.000Z","updated":"2020-05-03T06:36:53.066Z","comments":true,"path":"tags/å›¾é›†/index.html","permalink":"/tags/å›¾é›†/index.html","excerpt":"","text":"","keywords":"pictures"}],"posts":[{"title":"HDUäºŒç»´æ–œç‡ä¼˜åŒ–","slug":"HDUäºŒç»´æ–œç‡ä¼˜åŒ–","date":"2020-05-12T12:36:39.000Z","updated":"2020-05-12T12:38:01.410Z","comments":false,"path":"2020/05/12/HDUäºŒç»´æ–œç‡ä¼˜åŒ–/","link":"","permalink":"/2020/05/12/HDUäºŒç»´æ–œç‡ä¼˜åŒ–/","excerpt":"","text":"äºŒç»´æ–œç‡ä¼˜åŒ–ä¸€ã€HDU 3480 Divisionâ€‹é¢˜ç›®æè¿° Little D is really interested in the theorem of sets recently. Thereâ€™s a problem that confused him a long time.Let T be a set of integers. Let the MIN be the minimum integer in T and MAX be the maximum, then the cost of set T if defined as (MAX â€“ MIN)^2. Now given an integer set S, we want to find out M subsets S1, S2, â€¦, SM of S, such that and the total cost of each subset is minimal. è¾“å…¥æ ¼å¼ The input contains multiple test cases.In the first line of the input thereâ€™s an integer $T$ which is the number of test cases. Then the description of $T$ test cases will be given.For any test case, the first line contains two integers $N (â‰¤ 10000)$ and $M (â‰¤ 5,000)$. $N$ is the number of elements in S (may be duplicated). $M$ is the number of subsets that we want to get. In the next line, there will be $N$ integers giving set S. è¾“å‡ºæ ¼å¼ For each test case, output one line containing exactly one integer, the minimal total cost. Take a look at the sample output for format. é¢˜ç›®å¤§æ„ æœ‰ä¸€ä¸ªé›†åˆï¼ŒæŠŠè¿™ä¸ªé›†åˆåˆ†è§£æˆä¸€å®šæ•°é‡çš„è‡ªå·±ï¼Œæ¯ä¸€ä¸ªå­é›†æœ‰ä¸€ä¸ªä»£ä»·ï¼Œä»£ä»·è®¡ç®—æ–¹å¼æ˜¯è¿™ä¸ªé›†åˆæå·®çš„å¹³æ–¹ã€‚æ±‚è¿™ä¸ªé›†åˆåˆ†æˆç›¸åº”æ•°é‡é›†åˆçš„æœ€å°ä»£ä»·ã€‚ é¢˜ç›®åˆ†æ å¾ˆæ˜æ˜¾è¿™ä¸ªä¸€ä¸ª$dp$çš„é¢˜ã€‚ çŠ¶æ€è¡¨ç¤ºï¼šâ‘ é›†åˆ:$f[j][i]$è¡¨ç¤ºå°†å‰$i$ä¸ªæ•°åˆ†æˆ$j$ä¸ªé›†åˆã€‚â‘¡å±æ€§:åˆ’åˆ†çš„æœ€å°ä»£ä»· çŠ¶æ€è®¡ç®—ï¼š$f[j][i]=f[j-1][k]+(w[i]-w[k+1])^2$ $(j-1â‰¤k&lt;i)$ æ—¶é—´å¤æ‚åº¦$O(mn^2)$å¯¹äºé¢˜ä¸­çš„æ•°æ®æ˜¯åƒä¸æ¶ˆçš„æ‰€ä»¥è¦ä¼˜åŒ–ã€‚ æ–œç‡è¡¨ç¤ºï¼š$f[j-1][k]+w[k+1]^2=2w[i]w[k+1]+f[j][i]-w[i]^2$ äºæ˜¯è‹¥å†™æˆ$Y=kX+b$ï¼Œé‚£ä¹ˆ$Y=f[j-1][k]+w[k+1],X=w[k+1]$ ä»£ç  #include&lt;iostream&gt; #include&lt;algorithm&gt; #include&lt;cstring&gt; using namespace std; typedef long long ll; const int N=10010,M=5010; int n,m; int w[N],q[N]; int f[M][N]; int gety(int j,int a,int b) { return f[j][b]+w[b+1]*w[b+1]-f[j][a]-w[a+1]*w[a+1]; } int getx(int a,int b) { return w[b+1]-w[a+1]; } int main() { int T; cin&gt;&gt;T; for(int K=1;K&lt;=T;K++) { cin&gt;&gt;n&gt;&gt;m; for(int i=1;i&lt;=n;i++) cin&gt;&gt;w[i]; sort(w+1,w+1+n);//å…ˆæ’åº int tt,hh;//å®šä¹‰å¯¹å¤´é˜Ÿå°¾ //åˆå§‹è¯è¾¹ç•Œå¯¹äºiä¸ªå…ƒç´ åˆ†æˆ1ç»„ for(int i=1;i&lt;=n;i++) f[1][i]=(w[i]-w[1])*(w[i]-w[1]); for(int j=2;j&lt;=m;j++)//ä»ç¬¬äºŒç»„å¼€å§‹è®¨è®º { tt=1,hh=0;//åˆå§‹åŒ– q[tt]=j-1; for(int i=j;i&lt;=n;i++)//é›†åˆä¸­çš„å…ƒç´ ä¸ªæ•°å¿…é¡»ä¸å°äºåˆ†çš„ç»„æ•° { int k=2*w[i]; while(tt&gt;hh&amp;&amp;gety(j-1,q[hh],q[hh+1])&lt;=k*getx(q[hh],q[hh+1])) hh++; f[j][i]=f[j-1][q[hh]]+(w[i]-w[q[hh]+1])*(w[i]-w[q[hh]+1]); while(tt&gt;hh&amp;&amp;gety(j-1,q[tt-1],q[tt])*getx(q[tt],i)&gt;=gety(j-1,q[tt],i)*getx(q[tt-1],q[tt])) tt--; q[++tt]=i; } } printf(&quot;Case %d: %d\\n&quot;,K,f[m][n]); } return 0; } äºŒã€HDU 2829 Lawrenceé¢˜ç›®æè¿° T. E. Lawrence was a controversial figure during World War I. He was a British officer who served in the Arabian theater and led a group of Arab nationals in guerilla strikes against the Ottoman Empire. His primary targets were the railroads. A highly fictionalized version of his exploits was presented in the blockbuster movie, â€œLawrence of Arabiaâ€. You are to write a program to help Lawrence figure out how to best use his limited resources. You have some information from British Intelligence. First, the rail line is completely linearâ€”-there are no branches, no spurs. Next, British Intelligence has assigned a Strategic Importance to each depotâ€”-an integer from 1 to 100. A depot is of no use on its own, it only has value if it is connected to other depots. The Strategic Value of the entire railroad is calculated by adding up the products of the Strategic Values for every pair of depots that are connected, directly or indirectly, by the rail line. Consider this railroad: Its Strategic Value is 4Ã—5 + 4Ã—1 + 4Ã—2 + 5Ã—1 + 5Ã—2 + 1Ã—2 = 49. Now, suppose that Lawrence only has enough resources for one attack. He cannot attack the depots themselvesâ€”-they are too well defended. He must attack the rail line between depots, in the middle of the desert. Consider what would happen if Lawrence attacked this rail line right in the middle: The Strategic Value of the remaining railroad is 4Ã—5 + 1Ã—2 = 22. But, suppose Lawrence attacks between the 4 and 5 depots: The Strategic Value of the remaining railroad is 5Ã—1 + 5Ã—2 + 1Ã—2 = 17. This is Lawrenceâ€™s best option. Given a description of a railroad and the number of attacks that Lawrence can perform, figure out the smallest Strategic Value that he can achieve for that railroad. è¾“å…¥æ ¼å¼ There will be several data sets. Each data set will begin with a line with two integers, n and m. n is the number of depots on the railroad (1â‰¤nâ‰¤1000), and m is the number of attacks Lawrence has resources for (0â‰¤m&lt;n). On the next line will be n integers, each from 1 to 100, indicating the Strategic Value of each depot in order. End of input will be marked by a line with n=0 and m=0, which should not be processed. è¾“å‡ºæ ¼å¼ For each data set, output a single integer, indicating the smallest Strategic Value for the railroad that Lawrence can achieve with his attacks. Output each integer in its own line. é¢˜ç›®å¤§æ„ æœ‰nä¸ªä»“åº“æ¯ä¸ªä»“åº“æœ‰ä¸€ä¸ªæƒå€¼ï¼Œä½ å¯ä»¥è½°ç‚¸mæ¬¡nä¸ªä»“åº“ä¹‹é—´çš„é“è·¯ä½¿ä»–ä»¬æ–­å¼€ï¼Œè¿ç»­çš„ä»“åº“æœ‰ä¸€ä¸ªæ€»æƒå€¼å¤§å°ä¸ºæ¯æ¯ä¸¤ä¸ªä»“åº“çš„æƒå€¼çš„ä¹˜ç§¯ä¹‹å’Œï¼Œè¦æ±‚è½°ç‚¸mæ¬¡å³è®©ä»–ä»¬åˆ†æˆm+1ä¸ªå­åºåˆ—çš„æ€»æƒå€¼å’Œæœ€å° é¢˜ç›®åˆ†æ è¿™ä¹Ÿæ˜¯ä¸€ä¸ª$dp$çš„é¢˜ çŠ¶æ€è¡¨ç¤ºï¼šâ‘ é›†åˆ:$f[j][i]$è¡¨ç¤ºå¯¹äºå‰$i$ä¸ªä»“åº“è½°ç‚¸$j$æ¬¡çš„é›†åˆã€‚â‘¡å±æ€§:æœ€å° çŠ¶æ€è®¡ç®—ï¼š$f[j][i]=f[j-1][k]+\\sum_{a=k+1}^i w[a]Ã—(\\sum_{b=a+1}^i w[b])$ æˆ‘ä»¬ç”¨$s[i]=w[1]+w[2]+\\dots+w[i]$ï¼Œ$ms[i]=w[1]Ã—s[1]+w[2]Ã—s[2]+\\dots+w[i]Ã—s[i]$ äºæ˜¯ä¸Šè¿°å¼å­å¯åŒ–ç®€ä¸º$f[j][i]=f[j-1][k]+s[i]Ã—(s[i]-s[k])+ms[k]-ms[i]$ æ–œç‡è¡¨ç¤ºï¼š$f[j-1][k]+ms[k]=s[i]s[k]+f[j][i]-s^2[i]+ms[i]$ äºæ˜¯è‹¥å†™æˆ$Y=kX+b$ï¼Œ$Y=f[j-1][k]+ms[k]$ï¼Œ$X=s[k]$ ä»£ç  #include&lt;iostream&gt; #include&lt;cstring&gt; #include&lt;algorithm&gt; #include&lt;cstdio&gt; using namespace std; typedef long long ll; const int N=1010; int n,m,q[N]; ll w[N],s[N],ms[N]; ll f[N][N]; ll gety(int j,int a,int b) { return f[j][b]+ms[b]-f[j][a]-ms[a]; } ll getx(int a,int b) { return s[b]-s[a]; } int main() { while(scanf(&quot;%d%d&quot;,&amp;n,&amp;m),n||m) { for(int i=1;i&lt;=n;++i) { scanf(&quot;%lld&quot;,&amp;w[i]); s[i]=s[i-1]+w[i];//å‰ç¼€å’Œ ms[i]=ms[i-1]+w[i]*s[i];//w[i]s[i]çš„å‰ç¼€å’Œ f[0][i]=s[i]*s[i]-ms[i];//åˆå§‹åŒ–è¾¹ç•Œ } int tt,hh; for(int j=1;j&lt;=m;++j) { tt=1,hh=0; //f[j-1][j]è¿™ä¸ªæ›´æ–°è¿‡åè¦å§ç¬¬jçš„ç‚¹åŠ å…¥é˜Ÿåˆ—ï¼Œjå‰é¢çš„ç‚¹æ²¡æœ‰æ„ä¹‰è¦åˆ å» q[tt]=j; for(int i=j+1;i&lt;=n;++i)//ä»“åº“çš„ä¸ªæ•°æ˜¯iä¹‹é—´çš„é“è·¯ä¸ªæ•°æ˜¯i-1,æ‰€ä»¥i-1&gt;=j { ll k=s[i]; while(tt&gt;hh&amp;&amp;gety(j-1,q[hh],q[hh+1])&lt;=getx(q[hh],q[hh+1])*k) hh++; f[j][i]=f[j-1][q[hh]]+s[i]*(s[i]-s[q[hh]])+ms[q[hh]]-ms[i]; while(tt&gt;hh&amp;&amp;gety(j-1,q[tt-1],q[tt])*getx(q[tt],i)&gt;=gety(j-1,q[tt],i)*getx(q[tt-1],q[tt])) tt--; q[++tt]=i; } } printf(&quot;%lld\\n&quot;,f[m][n]); } return 0; } æ€»ç»“å¯¹äºäºŒç»´æ–œç‡ä¼˜åŒ–ï¼Œæœ‰ä¸€ä¸ªå…³é”®çš„å°±æ˜¯åœ¨ç¬¬ä¸€å±‚å¾ªç¯çš„æ—¶å€™åˆå§‹åŒ–çš„tt=1,hh=0,q[tt]=jè‡³äºä¸ºä»€ä¹ˆéœ€è¦q[tt]=jæš‚æ—¶è¿˜æƒ³çš„ä¸æ˜¯å¾ˆæ˜ç™½:)ï¼Œç›®å‰è®¤ä¸ºæ˜¯ä¸Šä¸€å±‚åªæœ‰ä¸€ä¸ªç‚¹æœ‰æ•ˆçš„ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}],"tags":[{"name":"åŠ¨æ€è§„åˆ’","slug":"åŠ¨æ€è§„åˆ’","permalink":"/tags/åŠ¨æ€è§„åˆ’/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}]},{"title":"å¥‡æ€ªçš„å»ºå›¾æ–¹å¼","slug":"å¥‡æ€ªçš„å»ºå›¾æ–¹å¼","date":"2020-05-11T09:50:39.000Z","updated":"2020-05-12T12:37:32.280Z","comments":false,"path":"2020/05/11/å¥‡æ€ªçš„å»ºå›¾æ–¹å¼/","link":"","permalink":"/2020/05/11/å¥‡æ€ªçš„å»ºå›¾æ–¹å¼/","excerpt":"","text":"å¥‡æ€ªçš„å»ºå›¾æ–¹å¼ä¸€ã€2020.4.23å­¦æ ¡æµ‹è¯•é¢˜é¢˜ç›®æè¿° è’Ÿè’»å›å®¶ç§åœ°åï¼Œçªç„¶å¬è¯´æ­¦æ±‰è¿«åˆ‡éœ€è¦åŒ»ç–—ç‰©èµ„ã€‚ä»–è€å®¶çš„ç”°åœ°åœ¨sç‚¹ï¼Œå¯æ˜¯æ­¦æ±‰åœ¨eç‚¹ï¼Œä¸ºäº†è¿è¾“è´§ç‰©ï¼Œä¸­é€”éœ€è¦ç»è¿‡å¾ˆå¤šåŸå¸‚ï¼Œè¿™å¯¼è‡´å¿«é€’è´¹éå¸¸çš„è´µï¼Œäºæ˜¯ä»–å‡†å¤‡è‡ªå·±å¼€è½¦ï¼Œå¯æ˜¯ç°åœ¨æ²¹ä»·ä¹Ÿä¸ä¾¿å®œï¼Œä»–å°½é‡çœä¸€äº›æ²¹ã€‚ å·²çŸ¥è’Ÿè’»æŒæ¡ç€ç†Ÿç»ƒçš„æ¼‚ç§»æŠ€å·§ï¼Œå½“ä»–åœ¨åŸå¸‚Aæ—¶ï¼Œä»–å¯ä»¥ä½¿ç”¨æ¼‚ç§»åˆ°è¾¾åŸå¸‚Bï¼Œè¿™æ ·è€—è´¹çš„æ²¹é‡ä¸ºï¼š$tÃ—(A xor B)$ï¼Œå…¶ä¸­$t$ä¸ºå¸¸æ•°ï¼Œ$xor$ä¸ºæŒ‰ä½å¼‚æˆ–è¿ç®—ã€‚æ­¤å¤–ä»–è¿˜å¯ä»¥ä¸æ¼‚ç§»ï¼Œç›´æ¥èµ°å…¬è·¯ï¼Œæ¶ˆè€—çš„æ²¹é‡ä¼šç»™å‡ºã€‚ç°åœ¨è’Ÿè’»è¦ä»såˆ°eç‚¹ï¼Œè¯·é—®ä»–æœ€å°‘æ¶ˆè€—å¤šå°‘å‡æ²¹? è¾“å…¥æ ¼å¼ ç¬¬ä¸€è¡Œä¸‰ä¸ªæ•°n($3â‰¤nâ‰¤50000$)ï¼Œm($0â‰¤mâ‰¤100000$)ï¼Œt($1â‰¤tâ‰¤10^9$)ä»£è¡¨æœ‰nä¸ªåŸå¸‚ï¼Œå…±æœ‰mæ¡è¿æ¥åŸå¸‚çš„å…¬è·¯ï¼Œå’Œå¸¸æ•°tã€‚ ç¬¬äºŒè¡Œæœ‰ä¸¤ä¸ªæ•°sï¼Œeï¼Œä»£è¡¨èµ·ç‚¹ä¸ºså·åŸå¸‚ï¼Œç»ˆç‚¹ä¸ºeå·åŸå¸‚ã€‚ ç¬¬3åˆ°ç¬¬m+2è¡Œï¼Œæ¯è¡Œæœ‰ä¸‰ä¸ªæ•°xï¼Œyï¼Œzï¼Œä»£è¡¨ä¸€æ¡å…¬è·¯è¿æ¥xå·å’Œyå·åŸå¸‚ï¼Œé€šè¿‡è¿™æ¡å…¬è·¯éœ€è¦æ¶ˆè€—zå‡ æ²¹ï¼Œé“è·¯å‡ä¸ºåŒå‘ï¼Œä¸¤ä¸ªåŸå¸‚é—´å¯èƒ½æœ‰å¤šæ¡é“è·¯è¿é€šã€‚åŸå¸‚æ ‡å·ä»1å¼€å§‹ è¾“å‡ºæ ¼å¼ ä¸€è¡Œï¼Œä¸€ä¸ªæ•°ï¼Œä¸ºæ¶ˆè€—çš„æœ€å°‘æ²¹é‡ã€‚ åˆ†æ å¾ˆæ˜æ˜¾ï¼Œé¢˜ç›®æ˜¯ä¸€ä¸ªæœ€çŸ­è·¯é—®é¢˜ï¼Œè€ƒè™‘å¯¹æ¼‚ç§»æ–¹å¼çš„å»ºå›¾ï¼šå¦‚æœå°†è¯¥ç‚¹åˆ°å…¶ä½™æ‰€æœ‰ç‚¹çš„æ¼‚ç§»çš„è¾¹å»ºå‡ºæ¥å‘ç°æœ€å¤šå¯èƒ½éœ€è¦å»ºç«‹$\\cfrac{n(n-1)}{2}$æ¡è¾¹ï¼Œæ‰€ä»¥æ€»çš„è¾¹æ•°ä¸º$m+\\cfrac{n(n-1)}{2}$ï¼Œå¯¹äº$dijkstra$ç®—æ³•å¤æ‚åº¦æ˜¯åƒä¸æ¶ˆçš„ã€‚æ‰€ä»¥éœ€è¦å¯¹æ¼‚ç§»æ“ä½œæ‰¾ä¸€ä¸ªæ›´ä¼˜çš„å»ºè¾¹æ–¹å¼ï¼š å»ºå¼‚æˆ–çš„è¾¹è€ƒè™‘ç»“åˆå¾‹(å¯¹äºæ¯ä¸€ä½çš„ä½è¿ç®—æ˜¯ç‹¬ç«‹çš„è€ƒè™‘æ¯ä¸€ä½çš„ä½è¿ç®—ç„¶åç›¸åŠ )ä¸éœ€è¦æŠŠæ‰€æœ‰çš„è¾¹å»ºå‡ºæ¥ 1101 -&gt; 1001 -&gt; 1011 -&gt; 10101101 -&gt; 1001 çš„ä»£ä»·æ˜¯ 1001001 -&gt; 1011 çš„ä»£ä»·æ˜¯ 101011 -&gt; 1010 çš„ä»£ä»·æ˜¯ 1 1101 -&gt; 10101101 -&gt; 1010 çš„ä»£ä»·æ˜¯ 111 æ‰€ä»¥å‘ç°ä¸Šè¿°æ˜¯ç­‰ä»·çš„ï¼Œæ¯æ¬¡åªè€ƒè™‘æ”¹å˜ä¸€ä¸ªäºŒè¿›åˆ¶ä½ æ€»ç»“ä¸€ä¸‹ï¼šå¯¹äºä¸€ä¸ªç‚¹åˆ°å¦ä¸€ä¸ªç‚¹æ˜¯å¯¹æ”¹å˜kæ¬¡äºŒè¿›åˆ¶ä½ï¼Œæ¯æ¬¡å¯¹å½“å‰çš„ç‚¹æ”¹å˜ä¸€ä¸ªäºŒè¿›åˆ¶ä½ï¼Œèƒ½å¤Ÿè¾¾åˆ°æ¼‚ç§»åˆ°ä»»æ„ç‚¹çš„æ•ˆæœã€‚ï¼ˆä½†æ˜¯è¦å€ŸåŠ©0è¿™ä¸ªç‚¹ä»¥è¾¾åˆ°æšä¸¾æ‰€æœ‰æ¼‚ç§»æƒ…å†µï¼‰ ä»£ç  #include&lt;iostream&gt; #include&lt;algorithm&gt; #include&lt;cstring&gt; #include&lt;queue&gt; using namespace std; typedef long long ll; typedef pair&lt;ll,int&gt;PLI; const int N=50010,M=1000020; int h[N],e[M],ne[M],idx; ll w[M]; ll dist[N]; bool st[N]; int n,m,t,start,ed; void add(int a,int b,ll c) { e[idx]=b; w[idx]=c; ne[idx]=h[a]; h[a]=idx++; } ll dijkstra() { memset(dist,0x3f,sizeof dist); priority_queue&lt;PLI,vector&lt;PLI&gt;,greater&lt;PLI&gt; &gt;heap; heap.push({0,start}); dist[start]=0; while(heap.size()) { int t=heap.top().second; heap.pop(); if(st[t]) continue; st[t]=1; for(int i=h[t];i!=-1;i=ne[i]) { int j=e[i]; if(dist[j]&gt;dist[t]+w[i]) { dist[j]=dist[t]+w[i]; heap.push({dist[j],j}); } } } return dist[ed]; } int main() { memset(h,-1,sizeof h); cin&gt;&gt;n&gt;&gt;m&gt;&gt;t&gt;&gt;start&gt;&gt;ed; while(m--) { int a,b,c; cin&gt;&gt;a&gt;&gt;b&gt;&gt;c; add(a,b,c),add(b,a,c); } for(int i=0;i&lt;=n;i++)//å€ŸåŠ©0è¿™ä¸ªç‚¹ for(int j=0;j&lt;17;j++) if((i^(1&lt;&lt;j))&lt;=n) add(i,i^(1&lt;&lt;j),1ll*t*(1&lt;&lt;j)); cout&lt;&lt;dijkstra()&lt;&lt;endl; return 0; } //ç”±äºç°åœ¨æ²¡æœ‰æµ‹è¯•å¹³å°ï¼Œæ­¤ä»£ç ä¸ä¸€å®šæ­£ç¡®ä½†æ˜¯æ€æƒ³æ²¡é—®é¢˜ äºŒã€ç®—æ³•è¿›é˜¶æŒ‡å—â€”â€”è£…æ»¡çš„æ²¹ç®±é¢˜ç›®æè¿° æœ‰Nä¸ªåŸå¸‚ï¼ˆç¼–å·0ã€1â€¦N-1ï¼‰å’ŒMæ¡é“è·¯ï¼Œæ„æˆä¸€å¼ æ— å‘å›¾ã€‚ åœ¨æ¯ä¸ªåŸå¸‚é‡Œè¾¹éƒ½æœ‰ä¸€ä¸ªåŠ æ²¹ç«™ï¼Œä¸åŒçš„åŠ æ²¹ç«™çš„å•ä½æ²¹ä»·ä¸ä¸€æ ·ã€‚ ç°åœ¨ä½ éœ€è¦å›ç­”ä¸è¶…è¿‡100ä¸ªé—®é¢˜ï¼Œåœ¨æ¯ä¸ªé—®é¢˜ä¸­ï¼Œè¯·è®¡ç®—å‡ºä¸€æ¶æ²¹ç®±å®¹é‡ä¸ºCçš„è½¦å­ï¼Œä»èµ·ç‚¹åŸå¸‚Så¼€åˆ°ç»ˆç‚¹åŸå¸‚Eè‡³å°‘è¦èŠ±å¤šå°‘æ²¹é’±ï¼Ÿ æ³¨æ„ï¼š å‡å®šè½¦å­åˆå§‹æ—¶æ²¹ç®±æ˜¯ç©ºçš„ã€‚ è¾“å…¥æ ¼å¼ ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•°Nå’ŒMã€‚ ç¬¬äºŒè¡ŒåŒ…å«Nä¸ªæ•´æ•°ï¼Œä»£è¡¨Nä¸ªåŸå¸‚çš„å•ä½æ²¹ä»·ï¼Œç¬¬iä¸ªæ•°å³ä¸ºç¬¬iä¸ªåŸå¸‚çš„æ²¹ä»·pipiã€‚ æ¥ä¸‹æ¥Mè¡Œï¼Œæ¯è¡ŒåŒ…æ‹¬ä¸‰ä¸ªæ•´æ•°u,v,dï¼Œè¡¨ç¤ºåŸå¸‚uä¸åŸå¸‚vä¹‹é—´å­˜åœ¨é“è·¯ï¼Œä¸”è½¦å­ä»uåˆ°véœ€è¦æ¶ˆè€—çš„æ²¹é‡ä¸ºdã€‚ æ¥ä¸‹æ¥ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•°qï¼Œä»£è¡¨é—®é¢˜æ•°é‡ã€‚ æ¥ä¸‹æ¥qè¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸‰ä¸ªæ•´æ•°Cã€Sã€Eï¼Œåˆ†åˆ«è¡¨ç¤ºè½¦å­æ²¹ç®±å®¹é‡ã€èµ·ç‚¹åŸå¸‚Sã€ç»ˆç‚¹åŸå¸‚Eã€‚ è¾“å‡ºæ ¼å¼ å¯¹äºæ¯ä¸ªé—®é¢˜ï¼Œè¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ‰€éœ€çš„æœ€å°‘æ²¹é’±ã€‚ å¦‚æœæ— æ³•ä»èµ·ç‚¹åŸå¸‚å¼€åˆ°ç»ˆç‚¹åŸå¸‚ï¼Œåˆ™è¾“å‡ºâ€impossibleâ€ã€‚ æ¯ä¸ªç»“æœå ä¸€è¡Œã€‚ æ•°æ®èŒƒå›´ 1â‰¤Nâ‰¤1000,1â‰¤Mâ‰¤10000,1â‰¤p_iâ‰¤1001â‰¤dâ‰¤100,1â‰¤Câ‰¤100åˆ†æ å¦‚ä½•è¡¨ç¤ºçŠ¶æ€ï¼Ÿ å¯¹äºæ¯ä¸ªçŠ¶æ€æœ‰ä¸¤ç‚¹å†³å®šï¼šâ‘ ç°åœ¨åœ¨ä»€ä¹ˆåœ°æ–¹â‘¡ç°åœ¨æ²¹ç®±æœ‰å¤šå°‘æ²¹ã€‚å› æ­¤è€ƒè™‘åˆ†å±‚å›¾å³æ‹†ç‚¹å»ºå›¾dist[k][c]ï¼šè¡¨ç¤ºç›®å‰åœ¨kè¿™ä¸ªä½ç½®é‚®ç®±å‰©ä½™æ²¹é‡ä¸ºcè¿™ä¸ªçŠ¶æ€ã€‚ å¦‚ä½•è½¬ç§»çŠ¶æ€ï¼Ÿâ‘ å¯¹äºkæ¥è¯´éå†è¯¥ç‚¹çš„ä¸´è¾¹â‘¡å¯¹äºcæ¥è¯´å¯ä»¥åœ¨è¯¥ç‚¹åŠ æ²¹ï¼ˆåŠ æ²¹å¯ä»¥åŠ ä»»æ„å‡ä½†æ˜¯åªéœ€è¦è€ƒè™‘æ¯æ¬¡åŠ ä¸€å‡æ²¹å°±å¯ä»¥å®ç°åŠ ä»»æ„å‡æ²¹æƒ…å†µï¼‰ ä»£ç  #include&lt;iostream&gt; #include&lt;algorithm&gt; #include&lt;cstring&gt; #include&lt;queue&gt; using namespace std; const int N=1010,M=20010,C=110; int h[N],e[M],ne[M],w[M],idx; int price[N]; int dist[N][C]; bool st[N][C]; int n,m; struct ver { int d,u,c; bool operator&lt; (const ver &amp;w) const { return d&gt;w.d; } }; void add(int a,int b,int c) { e[idx]=b; ne[idx]=h[a]; w[idx]=c; h[a]=idx++; } int dijkstra(int start,int ed,int cap) { memset(dist,0x3f,sizeof dist); memset(st,0,sizeof st); priority_queue&lt;ver&gt; heap; heap.push({0,start,0}); dist[start][0]=0; while(heap.size()) { auto t=heap.top(); heap.pop(); if(t.u==ed&amp;&amp;t.c==0) return t.d; if(st[t.u][t.c]) continue; st[t.u][t.c]=1; if(t.c&lt;cap) { if(dist[t.u][t.c+1]&gt;t.d+price[t.u]) { dist[t.u][t.c+1]=t.d+price[t.u]; heap.push({dist[t.u][t.c+1],t.u,t.c+1}); } } for(int i=h[t.u];i!=-1;i=ne[i]) { int j=e[i]; if(t.c&gt;=w[i]) { if(dist[j][t.c-w[i]]&gt;t.d) { dist[j][t.c-w[i]]=t.d; heap.push({dist[j][t.c-w[i]],j,t.c-w[i]}); } } } } return -1; } int main() { cin&gt;&gt;n&gt;&gt;m; memset(h,-1,sizeof h); for(int i=0;i&lt;n;i++) cin&gt;&gt;price[i]; while(m--) { int a,b,c; cin&gt;&gt;a&gt;&gt;b&gt;&gt;c; add(a,b,c),add(b,a,c); } int query; cin&gt;&gt;query; while(query--) { int a,b,c; cin&gt;&gt;c&gt;&gt;a&gt;&gt;b; int t=dijkstra(a,b,c); if(t==-1) cout&lt;&lt;&quot;impossible&quot;&lt;&lt;endl; else cout&lt;&lt;t&lt;&lt;endl; } return 0; } æ€»ç»“å‘ç°ä¸Šè¿°ä¸¤é¢˜æœ‰ä¸€ä¸ªå…±åŒç‰¹ç‚¹ï¼šæ¯æ¬¡è¿›è¡Œ1æ¬¡æ“ä½œæ¥å®ç°kæ¬¡æ“ä½œéƒ½ç”¨ã€‚ç¬¬ä¸€é¢˜ï¼šæ”¹å˜kæ¬¡äºŒè¿›åˆ¶ä½æ¯æ¬¡è€ƒè™‘æ”¹å˜ä¸€ä½ã€‚ç¬¬äºŒé¢˜ï¼šæ¯æ¬¡å¯ä»¥åŠ kå‡æ²¹è€ƒè™‘æ¯æ¬¡åªåŠ ä¸€å‡æ²¹ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}],"tags":[{"name":"å›¾è®º","slug":"å›¾è®º","permalink":"/tags/å›¾è®º/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}]},{"title":"æ ‘çŠ¶æ•°ç»„","slug":"æ ‘çŠ¶æ•°ç»„","date":"2020-05-06T07:00:26.000Z","updated":"2020-05-11T09:49:12.260Z","comments":false,"path":"2020/05/06/æ ‘çŠ¶æ•°ç»„/","link":"","permalink":"/2020/05/06/æ ‘çŠ¶æ•°ç»„/","excerpt":"","text":"æ ‘çŠ¶æ•°ç»„èŠèŠå‰ç¼€å’Œæ¯”å¦‚æ•°ç»„ int a[7]={1,2,3,4,5,6,7} å¦‚æœéœ€è¯¢é—®æ•°ç»„ä»ç¬¬lä¸ªæ•°åˆ°ç¬¬rä¸ªæ•°çš„å’Œæš´åŠ›åšæ³•æ—¶é—´å¤æ‚åº¦ä¸º$O(n)$ ä¸è¿‡æˆ‘ä»¬å¯ä»¥é¢„å¤„ç†ä¸€ä¸ªå‰ç¼€å’Œæ•°ç»„ int b[7]={1,3,6,10,15,21,28} æ¯”å¦‚è¦è¯¢é—®[l,r]åŒºé—´çš„å’Œæˆ‘ä»¬å¯ä»¥è¿™æ ·åšb[r]-b[l-1]è¿™ä¹Ÿæ—¶é—´å¤æ‚åº¦ä¸º$O(1)$ ä½†æ˜¯é—®é¢˜æ¥äº†ï¼Œå¦‚æœæˆ‘ä»¬è¦æ—¢è¦ä¿®æ”¹æ•°ç»„ä¸­å…ƒç´ çš„å€¼ï¼Œæœ‰è¦è¿›è¡Œä¸Šè¿°åŒºé—´æŸ¥è¯¢æ“ä½œå‘¢ï¼Ÿ æˆ‘ä»¬å‘ç°æ¯æ¬¡æˆ‘ä»¬ä¿®æ”¹åŸæ•°ç»„ä¸­å…ƒç´ çš„å€¼æ—¶é—´å¤æ‚åº¦ä¸º$O(1)$ä½†æ˜¯å¦‚æœä¿®æ”¹å‰ç¼€å’Œæ•°ç»„ä¸­å…ƒç´ çš„å€¼æ—¶é—´å¤æ‚åº¦å°†ä¼šé€€åŒ–åˆ°$O(n)$ æ€»ç»“ä¸€ä¸‹ï¼š æ•°ç»„ ä¿®æ”¹å…ƒç´ çš„å€¼æ—¶é—´å¤æ‚åº¦ åŒºé—´æ±‚å’Œæ—¶é—´å¤æ‚åº¦ åŸæ•°ç»„ O(1) O(n) å‰ç¼€å’Œæ•°ç»„ O(n) O(1) æˆ‘ä»¬å¯ä»¥å‘ç°å¦‚æœéœ€è¦å•ç‚¹æ›´æ–°å’ŒåŒºé—´æŸ¥è¯¢ä¸¤ç§æ“ä½œæ—¶é—´å¤æ‚åº¦éƒ½æ˜¯$O(n)$ ä»€ä¹ˆæ˜¯æ ‘çŠ¶æ•°ç»„?æ ‘çŠ¶æ•°ç»„æ˜¯ä¸€ç§ä¾¿äºè¿›è¡Œå•ç‚¹æ›´æ–°å’ŒåŒºé—´æŸ¥è¯¢çš„æ•°æ®ç»“æ„ æ ‘çŠ¶æ•°ç»„ç›¸å…³æ“ä½œ äºŒè¿›åˆ¶ä¸­æœ€åä¸€ä¸ª1â€”â€”$lowbit$ int lowbit(int x) { return x&amp;-x; } å•ç‚¹æ›´æ–° æˆ‘ä»¬å¯¹æ•°ç»„ä½ç½®ä¸ºxçš„å…ƒç´ åŠ ä¸Šc //æ ‘çŠ¶æ•°ç»„ä¸ºtreeï¼Œæ•°ç»„å…ƒç´ ä¸ªæ•°ä¸ºnï¼Œæ•°ç»„ä¸‹æ ‡ä»0å¼€å§‹ void add(int x,int c) { for(;x&lt;=n;x+=lowbit(x)) tree[x]+=c; } åŒºé—´æ±‚å’Œ //æ±‚å‡º[1,x]æ•°ç»„ä¸­çš„æ€»å’Œå³å‰ç¼€å’Œ int sum(int x) { int res=0; for(;x;x-=lowbit(x)) res+=tree[x]; return res; } å±€é™æ€§æˆ‘ä»¬å¾ˆå®¹æ˜“å‘ç°ä¸Šè¿°æ ‘çŠ¶æ•°ç»„åªé€‚ç”¨äºå•ç‚¹æ›´æ–°å’ŒåŒºé—´æŸ¥è¯¢ï¼Œä½†æ˜¯å¦‚æœæ˜¯åŒºé—´ä¿®æ”¹å’Œå•ç‚¹æŸ¥è¯¢å¥½åƒåŠ›ä¸ä»å¿ƒ å·®åˆ†åœ¨æ ‘çŠ¶æ•°ç»„ä¸­çš„åº”ç”¨å‘Šè¯‰ä½ ä¸ªå¥½æ¶ˆæ¯å¦‚æœæœ‰å·®åˆ†çš„ä»‹å…¥ï¼Œé‚£ä¹ˆæ ‘çŠ¶æ•°ç»„å¯ä»¥è¿›è¡ŒåŒºé—´æ›´æ–°å’Œå•ç‚¹æŸ¥è¯¢å½“ç„¶ä¹Ÿå¯ä»¥è¿›è¡Œæ›´å‰å®³çš„åŒºé—´æ›´æ–°å’ŒåŒºé—´æŸ¥è¯¢ã€‚ åŒºé—´æ›´æ–°ã€å•ç‚¹æŸ¥è¯¢æˆ‘ä»¬æŠŠ$tree[]$æ•°ç»„æ„é€ æˆä¸€ä¸ªå·®åˆ†æ•°ç»„è¿˜æ˜¯çœ‹é¢˜å§ é¢˜ç›® ç»™å®šé•¿åº¦ä¸ºNçš„æ•°åˆ—Aï¼Œç„¶åè¾“å…¥Mè¡Œæ“ä½œæŒ‡ä»¤ã€‚ ç¬¬ä¸€ç±»æŒ‡ä»¤å½¢å¦‚â€œC l r dâ€ï¼Œè¡¨ç¤ºæŠŠæ•°åˆ—ä¸­ç¬¬l~rä¸ªæ•°éƒ½åŠ dã€‚ ç¬¬äºŒç±»æŒ‡ä»¤å½¢å¦‚â€œQ Xâ€ï¼Œè¡¨ç¤ºè¯¢é—®æ•°åˆ—ä¸­ç¬¬xä¸ªæ•°çš„å€¼ã€‚ å¯¹äºæ¯ä¸ªè¯¢é—®ï¼Œè¾“å‡ºä¸€ä¸ªæ•´æ•°è¡¨ç¤ºç­”æ¡ˆã€‚ è¾“å…¥æ ¼å¼ ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•°Nå’ŒMã€‚ ç¬¬äºŒè¡ŒåŒ…å«Nä¸ªæ•´æ•°A[i]ã€‚ æ¥ä¸‹æ¥Mè¡Œè¡¨ç¤ºMæ¡æŒ‡ä»¤ï¼Œæ¯æ¡æŒ‡ä»¤çš„æ ¼å¼å¦‚é¢˜ç›®æè¿°æ‰€ç¤ºã€‚ è¾“å‡ºæ ¼å¼ å¯¹äºæ¯ä¸ªè¯¢é—®ï¼Œè¾“å‡ºä¸€ä¸ªæ•´æ•°è¡¨ç¤ºç­”æ¡ˆã€‚ æ¯ä¸ªç­”æ¡ˆå ä¸€è¡Œã€‚ #include&lt;iostream&gt; #include&lt;algorithm&gt; #include&lt;cstring&gt; using namespace std; typedef long long ll; const int N=100010; ll tree[N]; int n,m; int lowbit(int x) { return x&amp;-x; } void add(int x,int c) { for(;x&lt;=n;x+=lowbit(x)) tree[x]+=c; } ll sum(int x) { int res=0; for(;x;x-=lowbit(x)) res+=tree[x]; return res; } int main() { cin&gt;&gt;n&gt;&gt;m; for(int i=1;i&lt;=n;i++) { int a; cin&gt;&gt;a; add(i,a); add(i+1,-a); } while(m--) { char t; cin&gt;&gt;t; if(t==&#39;Q&#39;) { int x; cin&gt;&gt;x; cout&lt;&lt;sum(x)&lt;&lt;endl; } else { int a,b,c; cin&gt;&gt;a&gt;&gt;b&gt;&gt;c; add(a,c); add(b+1,-c); } } return 0; } æˆ‘ä»¬å¯ä»¥å‘ç°å¯¹äºä¸Šè¿°ä»£ç å³åœ¨å»ºæ ‘çš„è¿‡ç¨‹ä¸­å»ºæˆå·®åˆ†æ ‘çš„å½¢å¼å³å¯ åŒºé—´æ›´æ–°ã€åŒºé—´æŸ¥è¯¢åŸæ•°ç»„a[]ï¼Œå¯¹äºåŒºé—´æ›´æ–°æˆ‘ä»¬å¯ä»¥ç»´æŠ¤ä¸€ä¸ªå·®åˆ†æ•°ç»„b[] å¦‚æœæˆ‘ä»¬ç»´æŠ¤æ•°ç»„açš„å‰ç¼€å’Œæˆ‘ä»¬å¯ä»¥å‘ç°æœ‰ä¸‹é¢ç­‰å¼ï¼š \\sum_{i=1}^x a_i=\\sum_{i=1}^x\\sum_{j=1}^i b_i=\\sum_{i=1}^x(x-i+1)b_iå˜æ¢ä¸€ä¸‹ï¼š \\sum_{i=1}^x a_i=(x+1)\\sum_{i=1}^x b_i-\\sum_{i=1}^x b_iÃ—i äºæ˜¯æˆ‘ä»¬å¯ä»¥ç»´æŠ¤ä¸¤ä¸ªå·®åˆ†æ ‘çŠ¶æ•°ç»„$tree1[]$ç»´æŠ¤$ bi $ã€$tree2[]$ç»´æŠ¤$i*bi$ ç»™å®šä¸€ä¸ªé•¿åº¦ä¸ºNçš„æ•°åˆ—Aï¼Œä»¥åŠMæ¡æŒ‡ä»¤ï¼Œæ¯æ¡æŒ‡ä»¤å¯èƒ½æ˜¯ä»¥ä¸‹ä¸¤ç§ä¹‹ä¸€ï¼š 1ã€â€œC l r dâ€ï¼Œè¡¨ç¤ºæŠŠ A[l],A[l+1],â€¦,A[r] éƒ½åŠ ä¸Š dã€‚ 2ã€â€œQ l râ€ï¼Œè¡¨ç¤ºè¯¢é—® æ•°åˆ—ä¸­ç¬¬ l~r ä¸ªæ•°çš„å’Œã€‚ å¯¹äºæ¯ä¸ªè¯¢é—®ï¼Œè¾“å‡ºä¸€ä¸ªæ•´æ•°è¡¨ç¤ºç­”æ¡ˆã€‚ è¾“å…¥æ ¼å¼ ç¬¬ä¸€è¡Œä¸¤ä¸ªæ•´æ•°N,Mã€‚ ç¬¬äºŒè¡ŒNä¸ªæ•´æ•°A[i]ã€‚ æ¥ä¸‹æ¥Mè¡Œè¡¨ç¤ºMæ¡æŒ‡ä»¤ï¼Œæ¯æ¡æŒ‡ä»¤çš„æ ¼å¼å¦‚é¢˜ç›®æè¿°æ‰€ç¤ºã€‚ è¾“å‡ºæ ¼å¼ å¯¹äºæ¯ä¸ªè¯¢é—®ï¼Œè¾“å‡ºä¸€ä¸ªæ•´æ•°è¡¨ç¤ºç­”æ¡ˆã€‚ æ¯ä¸ªç­”æ¡ˆå ä¸€è¡Œã€‚ #include&lt;iostream&gt; #include&lt;algorithm&gt; #include&lt;cstdio&gt; #include&lt;cstring&gt; using namespace std; typedef long long ll; const int N=100010; int n,m; ll tree1[N],tree2[N]; //ç»´æŠ¤b[i] ç»´æŠ¤i*b[i] int lowbit(int x) { return x&amp;-x; } void add(ll tree[],int x,ll c) { for(;x&lt;=n;x+=lowbit(x)) tree[x]+=c; } ll sum(ll tree[],int x) { ll res=0; for(;x;x-=lowbit(x)) res+=tree[x]; return res; } ll prefix_sum(int x) { return (x+1)*sum(tree1,x)-sum(tree2,x); } int main() { scanf(&quot;%d%d&quot;,&amp;n,&amp;m); for(int i=1;i&lt;=n;i++) { int a; scanf(&quot;%d&quot;,&amp;a); add(tree1,i,a); add(tree1,i+1,-a); add(tree2,i,1ll*i*a); add(tree2,i+1,-1ll*(i+1)*a); } while(m--) { char t; int l,r; cin&gt;&gt;t&gt;&gt;l&gt;&gt;r; if(t==&#39;Q&#39;) { scanf(&quot;%d%d&quot;,&amp;l,&amp;r); cout&lt;&lt;prefix_sum(r)-prefix_sum(l-1)&lt;&lt;endl; } else { int d; scanf(&quot;%d&quot;,&amp;d); add(tree1,l,d),add(tree1,r+1,-d); add(tree2,l,l*d),add(tree2, r+1,-1ll*(r+1)*d); } } return 0; } æ€»ç»“ 2020/5/6å­¦ä¹ æ ‘çŠ¶æ•°ç»„ï¼Œæ ‘çŠ¶æ•°ç»„å¯ä»¥ä¼˜åŒ–å¾ˆå¤šé—®é¢˜æœªæ¥ç­‰é‡åˆ°äº†åœ¨åŠ è¿›å» ä»¥ä¸Šé¢˜ç›®æ¥è‡ªäº$lyd$è€å¸ˆçš„ã€Šç®—æ³•è¿›é˜¶æŒ‡å—ã€‹å‚è€ƒ$lcf$å¤§ä½¬åšå®¢","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}],"tags":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"/tags/æ•°æ®ç»“æ„/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}]}]}